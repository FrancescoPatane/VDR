<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org">

<head>

</head>
<body>

<div id="navContainer" th:fragment="navbar">
	<nav class="navbar fixed-top navbar-expand-sm bg-dark navbar-dark">
<!-- 		<a href="/home"> -->
<!-- 			<img class="navbar-brand" th:src="@{img/logoadb.png}"> -->
  <a class="navbar-brand" th:href="@{/home}">VDR</a>
<!-- 		</a> -->
		<ul class="navbar-nav">
			<li class="nav-item"><a class="nav-link" href="/user">Packages</a></li>
			<li class="nav-item"><a class="nav-link" href="/families">FAQ</a></li>
		</ul>
		<ul class="nav navbar-nav flex-row justify-content-between ml-auto">
			<li class="dropdown order-1">
				<button type="button" id="dropdownMenu1" data-toggle="dropdown"
					class="btn btn-outline-secondary dropdown-toggle" sec:authentication="name">
				</button>
				<ul class="dropdown-menu dropdown-menu-right mt-2">
					<li class="px-3 py-2">
					<form class="dropdown-item" th:action="@{/logout}" method="post">
					<i class="fas fa-sign-out-alt"></i>
						<input type="submit" class="btn btn-link" value="Sign Out" />
					</form>
					</li>
					<li class="px-3 py-2">
<!-- 					<input class="btn btn-link" id="changePassword" type="button" value="Password"> -->
					    <i class="fas fa-key dropdown-item"><button class="btn btn-link" data-toggle="modal"
		data-target="#changePswModal">Password</button></i>
					
					</li>
				</ul>
			</li>
		</ul>
	</nav>
	
	
		<!-- Modal -->
	<div class="modal fade" id="changePswModal" tabindex="-1"
		role="dialog">
		<div class="modal-dialog modal-dialog-centered" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLongTitle">Change Password</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<form id="pswForm" th:action="@{/ajax/changePsw}" method="post">
				<div class="modal-body">
						<div class="form-group">
						<div id=errPsw class="alert alert-danger" role="alert" style="display: none">Couldn't change password.</div>
						<div id=diffPsw class="alert alert-danger" role="alert" style="display: none">Insert the same passord in both field.</div>
						<div id="succPsw" class="alert alert-success" role="alert" style="display: none">Password changed.</div>
							<label for="psw1">New Password:</label> 
							<input type="password" class="form-control" id="psw1" required>
						</div>
						<div class="form-group">
							<label for="psw2">Repeat Password:</label>
							<input type="password" class="form-control" id="psw2" required>
						</div>
				</div>
				<div class="modal-footer">
					<button id="pswButton" type="submit" class="btn btn-primary">Send</button>
				</div>
				</form>
			</div>
		</div>
	</div>
</div>

</body>
</html>